<!DOCTYPE html>
<html>
<head>
<!-- ?????????ҵĽ̳? -->

<!-- ???д????????ǵķ?????????һ??JS. ??????ͨ?????????ӿ??????????? -->
<script src="http://www.oic.name/js/loadxmldoc.js"></script>

<script>
function buttonClicked(url) {

xmlFunction = function() 
{
	xhttp.onreadystatechange=function()
  {
  if (xhttp.readyState==4 && xhttp.status==200)
    {
        xmlDoc = xhttp.responseXML;
		profileName = xmlDoc.getElementsByTagName("name")[0].childNodes[0].nodeValue;
		profileJob = xmlDoc.getElementsByTagName("job")[0].childNodes[0].nodeValue;
		profilePoints = xmlDoc.getElementsByTagName("points")[0].childNodes[0].nodeValue;
		
		//??String??????д??????Ӧ??HTML????
		document.getElementById("name").innerHTML = profileName;
		document.getElementById("job").innerHTML = profileJob;
		document.getElementById("points").innerHTML = profilePoints;	
    }
  }

}

loadXMLDoc(url, xmlFunction);



}

</script>
<meta charset="GB2312">
</head>
<body>
<!--
????????loadXMLDoc Function?????? http://www.oic.name/js/loadxmldoc.js 
??????????ʵ??http://www.oic.name/Gravifile/Search?name=???ӻ?
-->
<button onclick="buttonClicked('/gravifile/server/search?name=%E5%88%98%E5%8A%A0%E5%8D%8E')">Magic Button</button>
<p>
Name: <div id="name"></div>
<p>
Job: <div id="job"></div>
<p>
Points: <div id="points"></div>
</body>
</html>

<!-- 
??1???????治֪??????û??ͻȻ??????onreadystatechange???????Ǹ??????и?Function??variable??
Ϊʲô????û?У???ʵ?????Ǹ????õ????ӣ???Ϊ????loadxmldoc???????õ???xhttp.open("GET",url,*false*);
????false??ʲô?أ?

w3school???ͣ?Async=false ?? JavaScript will NOT continue to execute, until the server response is ready.
 If the server is busy or slow, the application will hang or stop.
 
 Ҳ????˵???? loadXMLDoc function ???? return xhttp.responseXML????ʱ,JS?ͻ?ֹͣ???еȴ????????????ݴ???????
 
?????ҿ??԰ѱ?Ӧ??д?? onreadystatechange ?Ĵ???ֱ??д?? xmlDoc = loadXMLDoc(url);???¡?

?????????÷??и??׶ˣ????ǵ???????????????????ʱ???????Ǹ?XMLһֱû?з?????????ҳJS?ͻῨ?????ﲻ???????У?
???Ժ??????õ????Ӿ??ǰ???ȡXML???ݺ?д??HTML??????д?? onreadystatechange???档??????ʱ?????????㣬??û
?д?????XML????ҳ??JSҲ???Ῠ???????ȴ??????ǵ??ȴ????????????ļ???ʱ?????????Ǵ????롣

???????뿴??http://www.w3schools.com/dom/dom_httprequest.asp

 -->